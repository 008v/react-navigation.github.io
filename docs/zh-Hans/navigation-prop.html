<html lang="zh-Hans"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Navigation prop 参考 · React Navigation (next)</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Navigation prop 参考 · React Navigation (next)"/><meta property="og:type" content="website"/><meta property="og:url" content="https://reactnavigation.org/index.html"/><meta property="og:description" content="应用程序中的每个 `屏幕` 组件都会自动提供 `导航` 道具。它看起来像这样:"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github-gist.min.css"/><link rel="alternate" type="application/atom+xml" href="https://reactnavigation.org/blog/atom.xml" title="React Navigation (next) Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://reactnavigation.org/blog/feed.xml" title="React Navigation (next) Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/spiro_white.svg"/><h2 class="headerTitle">React Navigation (next)</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/docs/zh-Hans/getting-started.html" target="_self">文档</a></li><li><a href="/docs/zh-Hans/api-reference.html" target="_self">接口</a></li><li><a href="/zh-Hans/help.html" target="_self">帮助</a></li><li><a href="/blog" target="_self">博客</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg"/>English</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/en">English</a></li><li><a href="/zh-Hans">中文</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(){
          if(languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>API Reference</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>阅读 API 参考</h3><ul><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/api-reference.html">概述</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/docs/zh-Hans/navigation-prop.html">Navigation prop</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/navigation-actions.html">NavigationActions</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/stack-actions.html">StackActions</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/stack-navigator.html">createStackNavigator</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/switch-navigator.html">createSwitchNavigator</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/drawer-navigator.html">createDrawerNavigator</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/tab-navigator.html">createTabNavigator</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/bottom-tab-navigator.html">createBottomTabNavigator</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/material-bottom-tab-navigator.html">createMaterialBottomTabNavigator</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/material-top-tab-navigator.html">createMaterialTopTabNavigator</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/with-navigation.html">withNavigation</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/with-navigation-focus.html">withNavigationFocus</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/navigation-events.html">NavigationEvents</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/react-navigation/react-navigation.github.io/edit/source/docs/navigation-prop.md" target="_blank">Edit</a><h1>Navigation prop 参考</h1></header><article><div><span><p>应用程序中的每个 <code>屏幕</code> 组件都会自动提供 <code>导航</code> 道具。它看起来像这样:</p>
<ul>
<li><code>this.props.navigation</code>
<ul>
<li><code>navigate</code> -转到另一个屏幕, 计算出需要执行的操作</li>
<li><code>goBack</code> -关闭活动屏幕并在堆栈中向后移动</li>
<li><code>addListener</code> -订阅导航生命周期的更新</li>
<li><code>isFocused</code> -函数返回 <code>true</code> 如果屏幕焦点和 <code>false</code> 否则。</li>
<li><code>state</code> -当前状态/路由</li>
<li><code>setParams</code> -对路由的参数进行更改</li>
<li><code>getParam</code> -获取具有回退的特定参数</li>
<li><code>dispatch</code> - 向路由发送 action</li>
</ul></li>
</ul>
<p>重要的是要强调<code>navigation</code> prop <em>不</em>传递给<em>所有</em>组件; 只有<code>screen</code>组件会自动收到此 prop！ React Navigation在这里没有做神奇的操作。 例如，如果要定义<code>MyBackButton</code>组件并将其呈现为屏幕组件的子组件，则无法访问其上的<code>navigation prop</code>。</p>
<p>仅当当前 navigator 是 stack navigator 时，<code>this.props.navigation</code>上有一些附加功能。 这些函数是 <code>navigate</code> 和 <code>goBack</code> 的替代方法, 你可以使用任何你喜欢的方法。 这些功能是：</p>
<ul>
<li><code>this.props.navigation</code>
<ul>
<li><code>push</code> - 导航到堆栈中的一个新的路由</li>
<li><code>pop</code> - 返回堆栈中的上一个页面</li>
<li><code>popToTop</code> - 跳转到堆栈中最顶层的页面</li>
<li><code>replace</code> - 用新路由替换当前路由</li>
</ul></li>
</ul>
<h2><a class="anchor" aria-hidden="true" name="api"></a><a href="#api" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>通用 API 参考</h2>
<p>与 <code>navigation</code> prop的大部分交互操作都将涉及 <code>navigation &lt;/code、&lt;code&gt;goBack</code>、<code>state</code>、和 <code>setParams</code>方法。</p>
<h3><a class="anchor" aria-hidden="true" name="navigate"></a><a href="#navigate" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>navigate</code> - 链接到其它页面</h3>
<p>调用此方法可跳转到应用程序中的另一个页面. 可采用以下参数:</p>
<p><code>navigation.navigate({routeName, params, action, key})</code> 或 <code>navigation.navigate(routeName, params, action)</code></p>
<ul>
<li><code>routeName</code> - 已在应用程序路由器中某处注册的目标routeName</li>
<li><code>params</code> - 合并到目标路由的参数</li>
<li><code>action</code> - (advanced) The sub-action to run in the child router, if the screen is a navigator. See <a href="navigation-actions.html">Actions Doc</a> for a full list of supported actions. （高级选项）如果叶脉你是 navigator，则是在子路由中运行的子操作。 有关支持的操作的完整列表，请参见<a href="navigation-actions.html">操作文档</a>。</li>
<li><code>key</code> - 要导航到的路由的可选标识符。 如果已存在，将<strong>后退</strong>到此路由</li>
</ul>
<pre><code class="language-jsx js"><span class="token keyword">class</span> <span class="token class-name">HomeScreen</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> navigate <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>navigation<span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>View</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span><span class="token punctuation">></span></span>This is the home screen <span class="token keyword">of</span> the app<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Text</span><span class="token punctuation">></span></span>
        <span class="token operator">&lt;</span>Button
          onPress<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">navigate</span><span class="token punctuation">(</span><span class="token string">'Profile'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Brent'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
          title<span class="token operator">=</span><span class="token string">"Go to Brent's profile"</span>
        <span class="token operator">/</span><span class="token operator">></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>View</span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" name="goback"></a><a href="#goback" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>goBack</code> - 关闭当前页面并返回上一个页面</h3>
<p>可以选择提供一个 key, 指定要返回的路由。 默认情况下, <code>goBack</code> 将关闭调用该方法的页面 如果目标是在</em>的任何位置返回 *, 而不指定要关闭的内容, 请调用 <code>. goBack (null);</code> 注意, <code>null</code> 参数在嵌套 <code>StackNavigators</code> 的情况下很有用 如果子导航器在堆栈中已经只有一个项目, 则返回父导航器。 如果感到疑惑, 不要担心, 这个 API 需要下一些功夫。</p></p>
<pre><code class="language-jsx js"><span class="token keyword">class</span> <span class="token class-name">HomeScreen</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> goBack <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>navigation<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>View</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">onPress</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">goBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Go back from this HomeScreen<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">onPress</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">goBack</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Go back anywhere<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
          <span class="token attr-name">onPress</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">goBack</span><span class="token punctuation">(</span><span class="token string">'screen-123'</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
          <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Go back from screen-123<span class="token punctuation">"</span></span>
        <span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>View</span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" name="goback"></a><a href="#goback" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>使用 <code>goBack</code>从一个指定的页面返回</h3>
<p>请记住以下导航堆栈历史记录：</p>
<pre><code class="language-jsx javascript">navigation<span class="token punctuation">.</span><span class="token function">navigate</span><span class="token punctuation">(</span>SCREEN_KEY_A<span class="token punctuation">)</span><span class="token punctuation">;</span>
navigation<span class="token punctuation">.</span><span class="token function">navigate</span><span class="token punctuation">(</span>SCREEN_KEY_B<span class="token punctuation">)</span><span class="token punctuation">;</span>
navigation<span class="token punctuation">.</span><span class="token function">navigate</span><span class="token punctuation">(</span>SCREEN_KEY_C<span class="token punctuation">)</span><span class="token punctuation">;</span>
navigation<span class="token punctuation">.</span><span class="token function">navigate</span><span class="token punctuation">(</span>SCREEN_KEY_D<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>现在你在* screen D <em>上，并且想要回到</em> screen A *（销毁D、C和B）。 然后你需要提供一个 goBack * FROM *的 key：</p>
<pre><code class="language-jsx">navigation.goBack(SCREEN_KEY_B)//将从 screen B 跳转到 screen A
</code></pre>
<p>如果，* screen A * 在堆栈的顶部, 你可以使用 <code>navigation.popToTop()</code>方法。</p>
<h3><a class="anchor" aria-hidden="true" name="addlistener"></a><a href="#addlistener" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>addListener</code> - 订阅导航生命周期的更新</h3>
<p>React Navigation 将事件发送到订阅了它们的页面组件：</p>
<ul>
<li><code>willBlur</code> - 页面将失去焦点</li>
<li><code>willFocus</code> -页面将获取焦点</li>
<li><code>didFocus</code> - 页面已获取到焦点（如果有过渡动画，等过渡动画执行完成后响应）</li>
<li><code>didFocus</code> - 页面已获取到焦点（如果有过渡动画，等过渡动画执行完成后响应）</li>
</ul>
<p>例子:</p>
<pre><code class="language-jsx javascript"><span class="token keyword">const</span> didBlurSubscription <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>navigation<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span>
  <span class="token string">'didBlur'</span><span class="token punctuation">,</span>
  payload <span class="token operator">=></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">'didBlur'</span><span class="token punctuation">,</span> payload<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Remove the listener when you are done</span>
didBlurSubscription<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>JSON 格式的参数:</p>
<pre><code class="language-jsx javascript"><span class="token punctuation">{</span>
  action<span class="token punctuation">:</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">'Navigation/COMPLETE_TRANSITION'</span><span class="token punctuation">,</span> key<span class="token punctuation">:</span> <span class="token string">'StackRouterRoot'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  context<span class="token punctuation">:</span> <span class="token string">'id-1518521010538-2:Navigation/COMPLETE_TRANSITION_Root'</span><span class="token punctuation">,</span>
  lastState<span class="token punctuation">:</span> undefined<span class="token punctuation">,</span>
  state<span class="token punctuation">:</span> undefined<span class="token punctuation">,</span>
  type<span class="token punctuation">:</span> <span class="token string">'didBlur'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>你也可以用 <a href="navigation-events.html"><code>&lt;NavigationEvents/&gt;</code></a>组件 以声明的方式订阅导航事件。</p>
<h3><a class="anchor" aria-hidden="true" name="isfocused"></a><a href="#isfocused" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>isFocused</code> - 查询页面是否获取到焦点</h3>
<p>如果页面已获取到焦点，则返回 <code>true</code> 否则返回 <code>false</code>。</p>
<pre><code class="language-jsx js"><span class="token keyword">let</span> isFocused <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>navigation<span class="token punctuation">.</span><span class="token function">isFocused</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>您可能希望使用 <a href="with-navigation-focus.html">withNavigationFocus</a> 而不是直接使用此方法, 它将传入一个布尔型的 prop -- <code>isFocused</code> 到你的组件。</p>
<h3><a class="anchor" aria-hidden="true" name="state-state-route"></a><a href="#state-state-route" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>state</code> - 当前的 state 或 route</h3>
<p>页面可以通过 <code>this.props.navigation.state</code>访问其路由。每一个都将返回一个对象, 其内容如下:</p>
<pre><code class="language-jsx js"><span class="token punctuation">{</span>
  <span class="token comment">// the name of the route config in the router</span>
  routeName<span class="token punctuation">:</span> <span class="token string">'profile'</span><span class="token punctuation">,</span>
  <span class="token comment">//a unique identifier used to sort routes</span>
  key<span class="token punctuation">:</span> <span class="token string">'main0'</span><span class="token punctuation">,</span>
  <span class="token comment">//an optional object of string options for this screen</span>
  params<span class="token punctuation">:</span> <span class="token punctuation">{</span> hello<span class="token punctuation">:</span> <span class="token string">'world'</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>通过` navigate &lt;/ code&gt;或<code> setParams &lt;/ code&gt;方法传入参数。是获取页面参数最常用的方法。</p></p>
<pre><code class="js">class ProfileScreen extends React.Component {
  render() {
    return <Text>Name: {this.props.navigation.state.params.name}</Text>;
  }
}
`</pre> 
<h3><a class="anchor" aria-hidden="true" name="setparams"></a><a href="#setparams" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>setParams</code> - 对路由的参数进行更改</h3>
<p>触发<code>setParams</code>方法允许页面更改路由中的参数，这对于更新标题按钮和标题文本很有用。</p>
<pre><code class="language-jsx js"><span class="token keyword">class</span> <span class="token class-name">ProfileScreen</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>Button
        onPress<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>navigation<span class="token punctuation">.</span><span class="token function">setParams</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Lucy'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        title<span class="token operator">=</span><span class="token string">"Set title name to 'Lucy'"</span>
      <span class="token operator">/</span><span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" name="getparam"></a><a href="#getparam" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>getParam</code> - 获取指定的的参数，可设置获取失败的返回值</h3>
<p>过去, 当 <code>params</code> 未定义时, 你可能在获取 <code>params</code> 时遇到问题。 现在，你不必直接访问参数，可以调用 <code>getParam</code>方法。</p>
<p>之前：</p>
<pre><code class="language-jsx js"><span class="token keyword">const</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>navigation<span class="token punctuation">.</span>state<span class="token punctuation">.</span>params<span class="token punctuation">;</span>
</code></pre>
<p>如果 <code>params</code> <code>未定义</code>, 则此操作失败</p>
<p>现在：</p>
<pre><code class="language-jsx js"><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>navigation<span class="token punctuation">.</span><span class="token function">getParam</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'Peter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>如果 <code>name</code> 或 <code>param</code> 未定义, 则返回 <code>Peter</code>。</p>
<h2><a class="anchor" aria-hidden="true" name="stack-actions"></a><a href="#stack-actions" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Stack Actions</h2>
<p>下列操作将在所有 stack navigator 中起作用：</p>
<h3><a class="anchor" aria-hidden="true" name="push"></a><a href="#push" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Push</h3>
<p>类似于<code>navigate</code>, <code>push</code>将跳转到堆栈中的新的路由</p>
<p><code>navigation.push(routeName, params, action)</code></p>
<ul>
<li><code>routeName</code> - 已在应用程序路由器中某处注册的目标routeName</li>
<li><code>params</code> - 合并到目标路由的参数</li>
<li><code>action</code> - (advanced) The sub-action to run in the child router, if the screen is a navigator. See <a href="navigation-actions.html">Actions Doc</a> for a full list of supported actions. （高级选项）如果叶脉你是 navigator，则是在子路由中运行的子操作。 有关支持的操作的完整列表，请参见<a href="navigation-actions.html">操作文档</a>。</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="pop"></a><a href="#pop" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pop</h3>
<p>返回到堆栈中的上一个页面，如果提供一个参数 <code>n</code>，则指定在堆栈内返回几层。</p>
<p><code>navigation.pop(n)</code></p>
<h3><a class="anchor" aria-hidden="true" name="poptotop"></a><a href="#poptotop" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>PopToTop</h3>
<p>调用该方法将直接跳转到堆栈最顶层的路由，销毁其它所有页面。</p>
<p><code>navigation.popToTop()</code></p>
<h3><a class="anchor" aria-hidden="true" name="replace"></a><a href="#replace" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Replace</h3>
<p>调用该方法将使用指定的路由覆盖当前的页面，可以附带参数（<code>params</code>和 <code>sub-action</code>）</p>
<p><code>navigation.replace(routeName, params, action)</code></p>
<h2><a class="anchor" aria-hidden="true" name="api"></a><a href="#api" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>阅读 API 参考</h2>
<p>虽然 <code>dispatch</code> 方法并不常用，但是当使用 <code>navigate</code> 和 <code>goBack</code>无法满足要求时，该方法会是个不错的选择。</p>
<h3><a class="anchor" aria-hidden="true" name="dispatch-action"></a><a href="#dispatch-action" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>dispatch</code> - 向路由发送 action</h3>
<p>使用 <code>dispatch</code> 将任何导航操作发送到路由后，该操作都将具有最高优先级。</p>
<p>请注意，如果你想分发 react-navigation 操作，则应使用此库中提供的操作创建者。</p>
<p>有关可用操作的完整列表, 请参见 <a href="navigation-actions.html">导航操作文档</a>。</p>
<pre><code class="language-jsx js"><span class="token keyword">import</span> <span class="token punctuation">{</span> NavigationActions <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-navigation'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> navigateAction <span class="token operator">=</span> NavigationActions<span class="token punctuation">.</span><span class="token function">navigate</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routeName<span class="token punctuation">:</span> <span class="token string">'Profile'</span><span class="token punctuation">,</span>
  params<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// navigate can have a nested navigate action that will be run inside the child router</span>
  action<span class="token punctuation">:</span> NavigationActions<span class="token punctuation">.</span><span class="token function">navigate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> routeName<span class="token punctuation">:</span> <span class="token string">'SubProfileRoute'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>navigation<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>navigateAction<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="api-reference.html">← 阅读 API 参考</a><a class="docs-next button" href="navigation-actions.html">NavigationActions 参考 →</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/spiro_white.svg" alt="React Navigation (next)" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/zh-Hans/getting-started.html">Getting Started</a><a href="/docs/zh-Hans/api-reference.html">API Reference</a><a href="/docs/zh-Hans/custom-navigator-overview.html">Building your own Navigator</a><a href="/docs/zh-Hans/contributing.html">Contributing</a></div><div><h5>Versions</h5><a href="https://reactnavigation.org/docs/getting-started.html">Version 2 docs</a><a href="https://v1.reactnavigation.org/docs/getting-started.html">Version 1 docs</a></div><div><h5>Support</h5><a href="https://discord.gg/4xEK3nD">Chat in our Discord channel</a><a href="https://react-navigation.canny.io/feature-requests">Request a feature on Canny</a><a href="https://github.com/react-navigation/react-navigation/issues">Report a bug on Github</a><a href="https://stackoverflow.com/questions/tagged/react-navigation" target="_blank">Get help on Stack Overflow</a></div><div><h5>More</h5><a href="https://github.com/react-navigation/react-navigation">GitHub</a><a class="github-button" href="https://github.com/react-navigation/react-navigation" data-icon="octicon-star" data-count-href="/react-community/react-navigation/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              var search = docsearch({
                apiKey: 'c967b4a1491b9cb486d3dca087b771e6',
                indexName: 'reactnavigation',
                inputSelector: '#search_input_react'
              });
            </script></body></html>